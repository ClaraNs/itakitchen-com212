<!--
  Generated template for the InicioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-buttons left>
      <button ion-button navPop class="bt-voltar">
        <img src="assets/imgs/icons/voltar.png" alt="Voltar" class="icon-bt-voltar">
     </button>
    </ion-buttons>

    <ion-title class="inicio-title">
      <img src="assets/imgs/itakitchen.svg" alt="Logo ItaKitchen" class="logo logo-menor">
    </ion-title>

  </ion-navbar>
</ion-header>

<ion-fab right bottom (click)="novaAvaliacao();" slot="fixed">
  <button ion-fab class="marrom"><ion-icon name="add"></ion-icon></button>
</ion-fab>

<ion-content padding>

  <section>
    <ion-row class="card-estab" *ngIf="estab != null">
      <ion-col col-3>
        <img [src]="estab.fotourl" safe class="img-estab">
      </ion-col>
      <ion-col col-9>
        <h2 class="nome-perfil texto-marrom">{{estab.nome}}</h2>
        <ion-row>
          <img src="assets/imgs/icons/estrela.png" alt="Ícone de estrela." class="estrela-estab">
          <h5 class="num-perfil num-avaliacao"> {{estab.nota}} <span>•</span> {{estab.numavaliacoes}} avaliações</h5>
        </ion-row>

      </ion-col>
    </ion-row>
    <ion-row class="titulo">
      <h5 col-6 class="texto-marrom">Avaliações</h5>
      <h5 col-6 class="texto-laranja" (click)="infos();">+ Informações</h5>
    </ion-row>
    

    <ion-row *ngFor="let aval of avaliacoes" class="card-aval" (click)="verAvaliacao(aval.id);">
      <ion-row class="titulo-aval">
        <img src="assets/imgs/icons/estrela.png" alt="Ícone de estrela." class="estrela">
          <h5 class="nota texto-marrom">{{aval.media.toFixed(2)}}</h5>
        <h5 class="texto-marrom nome"> <span>•</span>  {{aval.nomeestab}} </h5> 
         
      </ion-row>
      <ion-row class="notas">
        <img src="assets/imgs/icons/refeicao.png" alt="Ícone de refeição." class="icone-nota">
        {{aval.notarefeicao.toFixed(1)}}
        <img src="assets/imgs/icons/atend.png" alt="Ícone de atendimento." class="icone-nota">
        {{aval.notaatendimento.toFixed(1)}}
        <img src="assets/imgs/icons/ambiente.png" alt="Ícone de ambiente." class="icone-nota">
        {{aval.notaambiente.toFixed(1)}}
        <img src="assets/imgs/icons/preco.png" alt="Ícone de preco." class="icone-nota">
        {{aval.notapreco.toFixed(1)}}
      </ion-row>
      <ion-row class="descricao" *ngIf="aval.descrirefeicao != null">{{aval.descrirefeicao}}</ion-row>
      <ion-row class="descricao"  *ngIf="aval.descrirefeicao == null && aval.descriatendimento != null">
        {{aval.descriatendimento}}</ion-row>
      <ion-row class="descricao"  *ngIf="aval.descrirefeicao == null && aval.descriatendimento == null && aval.descriambiente != null">
        {{aval.descriambiente}}</ion-row>
      <ion-row class="descricao"  *ngIf="aval.descrirefeicao == null && aval.descriatendimento == null && aval.descriambiente == null && aval.descripreco != null" >
        {{aval.descripreco}}</ion-row>
        <ion-row class="descricao" *ngIf="aval.descrirefeicao == null && aval.descriatendimento == null && aval.descriambiente == null && aval.descripreco == null" >
          Sem descrições...</ion-row>
      
    </ion-row>

    
  </section>
</ion-content>

<ion-footer >
  <ion-toolbar class="tool-tab">
    <ion-row class="row-tabs">
      <button col-4 class="bt-tab" (click)="menu();">
        <img src="assets/imgs/icons/home.png" alt="ìcone do início." class="icon-tab">
      </button>
      <button col-4 class="bt-tab" (click)="minhasAvaliacoes();">
        <img src="assets/imgs/icons/avaliacao.png" alt="ìcone do início." class="icon-tab">
      </button>
      <button col-4 class="bt-tab" (click)="acessarPerfil();">
        <img src="assets/imgs/icons/usuario.png" alt="ìcone do início." class="icon-tab">
      </button>
    </ion-row>
  </ion-toolbar>
</ion-footer>




